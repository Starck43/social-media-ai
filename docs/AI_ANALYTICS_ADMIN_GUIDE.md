# AI Analytics - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### 1. –ó–∞—á–µ–º —Ö—Ä–∞–Ω–∏—Ç—å `prompt_text` –≤ —Ç–∞–±–ª–∏—Ü–µ?

**–û—Ç–≤–µ—Ç**: `prompt_text` –Ω—É–∂–µ–Ω –¥–ª—è:
- üîç **–û—Ç–ª–∞–¥–∫–∏** - –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ—á–µ–º—É LLM –≤–µ—Ä–Ω—É–ª —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- üìä **–ê—É–¥–∏—Ç–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –∏–º–µ–Ω–Ω–æ –º—ã —Å–ø—Ä–∞—à–∏–≤–∞–ª–∏ —É –º–æ–¥–µ–ª–∏
- üîÑ **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —Å —Ç–µ–º –∂–µ –ø—Ä–æ–º–ø—Ç–æ–º
- üìà **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** - –∞–Ω–∞–ª–∏–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤

**–ù–æ –µ—Å—Ç—å –º–∏–Ω—É—Å—ã**:
- üì¶ –ó–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ –ë–î (–ø—Ä–æ–º–ø—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å 500-2000+ —Å–∏–º–≤–æ–ª–æ–≤)
- üö´ –ù–µ –Ω—É–∂–µ–Ω –≤ –æ–±—ã—á–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∞–¥–º–∏–Ω–∞

**–†–µ—à–µ–Ω–∏–µ**:
- ‚úÖ **–ò—Å–∫–ª—é—á–µ–Ω –∏–∑ —Ñ–æ—Ä–º—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤ UI
- ‚úÖ **–•—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î** - –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
- ‚úÖ **–ú–æ–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–µ—Ä–µ–∑ SQL** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

```sql
-- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:
SELECT id, llm_model, prompt_text 
FROM social_manager.ai_analytics 
WHERE id = 77;
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (–µ—Å–ª–∏ –º–µ—Å—Ç–∞ –≤ –ë–î –∫—Ä–∏—Ç–∏—á–Ω–æ):
- –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–µ `nullable` –∏ –Ω–µ –∑–∞–ø–æ–ª–Ω—è—Ç—å –µ–≥–æ
- –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ –ª–æ–≥–∞—Ö (—Ñ–∞–π–ª—ã `logs/app.log`)
- –£–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ–º–ø—Ç—ã (> 30 –¥–Ω–µ–π) —á–µ—Ä–µ–∑ scheduled task

---

### 2. –ü–æ—á–µ–º—É –Ω–µ –≤–∏–¥–Ω–æ `summary_data` –≤ —Ñ–æ—Ä–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è?

**–û—Ç–≤–µ—Ç**: –≠—Ç–æ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ**! 

**–ü—Ä–∏—á–∏–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ —Ñ–æ—Ä–º—ã**:
1. ü§ñ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è** - —Å–æ–∑–¥–∞–µ—Ç—Å—è AI Analyzer'–æ–º –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ
2. üìä **–°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - —ç—Ç–æ JSON —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
3. üö´ **–ù–µ –¥–æ–ª–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è** - —Ä—É—á–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Ä—É—à–∏—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
4. üìù **–ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º** - –º–æ–∂–µ—Ç –±—ã—Ç—å 5-10KB+ —Ç–µ–∫—Å—Ç–∞

**–ì–¥–µ –µ–≥–æ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å**:
- ‚úÖ **Details —Å—Ç—Ä–∞–Ω–∏—Ü–∞** (`/admin/ai-analytics/details/77`) - –∫—Ä–∞—Å–∏–≤–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏–∑–∞"** - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- ‚úÖ **JSON viewer** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ —Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ –±—É—Ñ–µ—Ä

---

### 3. –ö–∞–∫–∏–µ –ø–æ–ª—è read-only –≤ —Ñ–æ—Ä–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è?

**–ü–æ–ª—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è** (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `form_widget_args`):
```python
‚úÖ analysis_date      # –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞
‚úÖ llm_model          # –ú–æ–¥–µ–ª—å –ò–ò
‚úÖ provider_type      # –ü—Ä–æ–≤–∞–π–¥–µ—Ä (sambanova, deepseek, openai)
‚úÖ request_tokens     # –¢–æ–∫–µ–Ω–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å–µ
‚úÖ response_tokens    # –¢–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ
‚úÖ estimated_cost     # –°—Ç–æ–∏–º–æ—Å—Ç—å –≤ —Ü–µ–Ω—Ç–∞—Ö
‚úÖ media_types        # –¢–∏–ø—ã –º–µ–¥–∏–∞ (text, image, video)
```

**–ü–æ–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–∫–ª—é—á–µ–Ω—ã** (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `form_excluded_columns`):
```python
üö´ summary_data       # –î–∞–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏–∑–∞ (JSON)
üö´ response_payload   # –û—Ç–≤–µ—Ç LLM (JSON)
üö´ prompt_text        # –ü—Ä–æ–º–ø—Ç (—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π)
üö´ created_at         # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è timestamp
üö´ updated_at         # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è timestamp
```

**–ü–æ–ª—è –∫–æ—Ç–æ—Ä—ã–µ –ú–û–ñ–ù–û —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**:
```python
‚úèÔ∏è  source_id         # –ú–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫
‚úèÔ∏è  period_type       # –ü–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞
‚úèÔ∏è  topic_chain_id    # ID —Ü–µ–ø–æ—á–∫–∏ —Ç–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚úèÔ∏è  parent_analysis_id # ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö `summary_data`

### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (v3.0 - multi-LLM):

```json
{
  "multi_llm_analysis": {
    "text_analysis": {
      "main_topics": ["—Ç–µ–º–∞ 1", "—Ç–µ–º–∞ 2"],
      "overall_mood": "–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π",
      "highlights": ["–≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç 1"],
      "sentiment_score": 0.75
    },
    "image_analysis": {},
    "video_analysis": {}
  },
  "unified_summary": {
    // –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  },
  "content_statistics": {
    "total_posts": 67,
    "total_reactions": 462,
    "total_comments": 0,
    "avg_reactions_per_post": 6.9
  },
  "source_metadata": {
    "source_type": "group",
    "platform": "–í–ö–æ–Ω—Ç–∞–∫—Ç–µ",
    "source_name": "–°—Ç–∞–Ω–∏—Å–ª–∞–≤"
  },
  "analysis_metadata": {
    "analysis_version": "3.0-multi-llm",
    "analysis_timestamp": "2025-10-16T10:24:56",
    "content_samples_analyzed": 67,
    "llm_providers_used": 1
  },
  "scenario_metadata": {
    "scenario_id": 6,
    "scenario_name": "–≠–∫—Å–ø—Ä–µ—Å—Å-–∞–Ω–∞–ª–∏–∑",
    "analysis_types": ["sentiment", "topics"],
    "content_types": ["posts"]
  }
}
```

---

## üé® –ù–æ–≤—ã–π UI –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –°–ø–∏—Å–æ–∫ (List View):
```
ID | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ú–æ–¥–µ–ª—å              | –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –°—Ç–æ–∏–º–æ—Å—Ç—å | –î–∞—Ç–∞       | –°–æ–∑–¥–∞–Ω–æ
77 | –°—Ç–∞–Ω–∏—Å–ª–∞–≤| Llama-4-Maverick... | sambanova | $0.1500   | 16.10.2025 | 16.10 10:24
```

### –î–µ—Ç–∞–ª–∏ (Details View):
1. **LLM Metrics** (6 –∫–∞—Ä—Ç–æ—á–µ–∫):
   - –ú–æ–¥–µ–ª—å –ò–ò
   - –ü—Ä–æ–≤–∞–π–¥–µ—Ä (—Å –±–µ–π–¥–∂–µ–º)
   - –¢–æ–∫–µ–Ω–æ–≤ (–∑–∞–ø—Ä–æ—Å)
   - –¢–æ–∫–µ–Ω–æ–≤ (–æ—Ç–≤–µ—Ç)
   - –°—Ç–æ–∏–º–æ—Å—Ç—å ($)
   - –¢–∏–ø—ã –º–µ–¥–∏–∞

2. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** (–µ—Å–ª–∏ –µ—Å—Ç—å):
   - –ü–æ—Å—Ç–æ–≤
   - –†–µ–∞–∫—Ü–∏–π
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
   - –°—Ä–µ–¥–Ω—è—è –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å

3. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞** (–µ—Å–ª–∏ –µ—Å—Ç—å):
   - –ì–ª–∞–≤–Ω—ã–µ —Ç–µ–º—ã
   - –û–±—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
   - –í—ã–¥–µ–ª—è—é—â–∏–µ—Å—è –º–æ–º–µ–Ω—Ç—ã
   - –û—Ü–µ–Ω–∫–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (progress bar)

4. **JSON Viewers** (2 —Å–µ–∫—Ü–∏–∏):
   - –î–∞–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏–∑–∞ (`summary_data`)
   - –û—Ç–≤–µ—Ç LLM (`response_payload`)
   - –° –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
   - –° –∫–Ω–æ–ø–∫–æ–π –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

5. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
   - ID, –ø–µ—Ä–∏–æ–¥, —Ü–µ–ø–æ—á–∫–∞ —Ç–µ–º
   - –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
   - Timestamps

---

## üîß –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏–∑–∞:
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ `/admin/ai-analytics`
2. –ù–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É, –¥–∞—Ç–µ, –º–æ–¥–µ–ª–∏)
3. –ù–∞–∂–∞—Ç—å –Ω–∞ ID –∏–ª–∏ "–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏–∑–∞"
4. –ò–∑—É—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏, —Ç–µ–∫—Å—Ç –∞–Ω–∞–ª–∏–∑–∞, JSON –¥–∞–Ω–Ω—ã–µ

### –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ JSON:
1. –û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ –∞–Ω–∞–ª–∏–∑–∞
2. –ù–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é "–î–∞–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏–∑–∞ (JSON)"
3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å"
4. –í—Å—Ç–∞–≤–∏—Ç—å –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä / IDE

### –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
```bash
# SQL —ç–∫—Å–ø–æ—Ä—Ç –≤ JSON —Ñ–∞–π–ª
psql -U user -d db -c "COPY (
  SELECT row_to_json(t) FROM (
    SELECT id, source_id, llm_model, provider_type, 
           summary_data, created_at
    FROM social_manager.ai_analytics
    WHERE analysis_date >= CURRENT_DATE - INTERVAL '7 days'
  ) t
) TO '/tmp/analytics_export.json';"
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏:
```sql
-- –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º
SELECT 
  provider_type,
  COUNT(*) as requests,
  SUM(request_tokens + response_tokens) as total_tokens,
  SUM(estimated_cost) / 100.0 as total_cost_usd
FROM social_manager.ai_analytics
WHERE analysis_date >= CURRENT_DATE - INTERVAL '7 days'
  AND provider_type IS NOT NULL
GROUP BY provider_type
ORDER BY total_cost_usd DESC;
```

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–æ–¥–µ–ª–∏:
```sql
-- –¢–æ–ø-5 –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π
SELECT 
  llm_model,
  provider_type,
  COUNT(*) as usage_count,
  AVG(request_tokens + response_tokens) as avg_tokens
FROM social_manager.ai_analytics
WHERE created_at >= CURRENT_DATE - INTERVAL '30 days'
GROUP BY llm_model, provider_type
ORDER BY usage_count DESC
LIMIT 5;
```

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è production:
1. ‚úÖ **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å** —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–æ–≤ –≤ Dashboard
2. ‚úÖ **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å** —Å—Ç–∞—Ä—ã–µ –∞–Ω–∞–ª–∏–∑—ã (> 90 –¥–Ω–µ–π) –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
3. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å** –∫–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–æ–≤ —á–µ—Ä–µ–∑ `summary_data`
4. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã** –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞ –Ω–∞ LLM

### –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
1. üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –¥–µ—à–µ–≤—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á
2. üí° –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∞–Ω–∞–ª–∏–∑–æ–≤
3. üí° –£–¥–∞–ª—è—Ç—å `prompt_text` —É —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π (—ç–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞)
4. üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å batch –∞–Ω–∞–ª–∏–∑ –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–µ–ª–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üêõ Troubleshooting

### summary_data –ø—É—Å—Ç–æ–π:
```python
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
tail -f logs/app.log | grep "Error in text analysis"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω
SELECT * FROM social_manager.llm_providers WHERE is_active = true;
```

### –°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è:
```python
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–æ–∫–µ–Ω—ã –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è
SELECT id, request_tokens, response_tokens, estimated_cost 
FROM social_manager.ai_analytics 
ORDER BY id DESC LIMIT 10;

# –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω—ã –µ—Å—Ç—å, –∞ cost = NULL - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –≤ analyzer.py
```

### –ü—Ä–æ–º–ø—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π:
```sql
-- –ù–∞–π—Ç–∏ —Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ –ø—Ä–æ–º–ø—Ç—ã
SELECT id, source_id, LENGTH(prompt_text) as prompt_length
FROM social_manager.ai_analytics
WHERE prompt_text IS NOT NULL
ORDER BY prompt_length DESC
LIMIT 10;

-- –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
UPDATE social_manager.ai_analytics
SET prompt_text = NULL
WHERE created_at < CURRENT_DATE - INTERVAL '30 days'
  AND prompt_text IS NOT NULL;
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [ANALYTICS_AGGREGATION_SYSTEM.md](./ANALYTICS_AGGREGATION_SYSTEM.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- [DASHBOARD_IMPLEMENTATION.md](./DASHBOARD_IMPLEMENTATION.md) - Dashboard UI
- [UNIFIED_DASHBOARD_SYSTEM.md](./UNIFIED_DASHBOARD_SYSTEM.md) - –û–±—â–∏–π –¥–∞—à–±–æ—Ä–¥

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 16.10.2025  
**–í–µ—Ä—Å–∏—è**: 1.0  
**–ê–≤—Ç–æ—Ä**: Factory Droid
