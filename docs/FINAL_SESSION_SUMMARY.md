# üéâ –ò—Ç–æ–≥–æ–≤—ã–π –û—Ç—á–µ—Ç: Multi-LLM System Implementation

## ‚úÖ –ß—Ç–æ –°–¥–µ–ª–∞–Ω–æ

### 1. üì¶ LLM –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (5 —à—Ç—É–∫)

–°–æ–∑–¥–∞–Ω—ã –≥–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö LLM:

| # | –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –ú–æ–¥–µ–ª—å | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ | –°—Ç–∞—Ç—É—Å |
|---|-----------|--------|-------------|--------|
| 1 | **DeepSeek Chat** | deepseek-chat | text | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω |
| 2 | OpenAI GPT-3.5 Turbo | gpt-3.5-turbo | text | ‚è∏Ô∏è –ù—É–∂–µ–Ω –∫–ª—é—á |
| 3 | OpenAI GPT-4 Turbo | gpt-4-turbo-preview | text | ‚è∏Ô∏è –ù—É–∂–µ–Ω –∫–ª—é—á |
| 4 | **OpenAI GPT-4 Vision** | gpt-4-vision-preview | text, image, video | ‚è∏Ô∏è –ù—É–∂–µ–Ω –∫–ª—é—á |
| 5 | Anthropic Claude 3 | claude-3-opus | text | ‚è∏Ô∏è –ù—É–∂–µ–Ω –∫–ª—é—á |

**DeepSeek** —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### 2. ü§ñ –°—Ü–µ–Ω–∞—Ä–∏–∏ –ê–Ω–∞–ª–∏–∑–∞ (5 —à—Ç—É–∫, –ø—Ä–æ–º–ø—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º)

–í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç DeepSeek –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:

#### 1. **–ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–æ–≤** (60 –º–∏–Ω)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- –í—ã—è–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π
- –ê–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–æ–≤ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- LLM: DeepSeek Chat

#### 2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –±—Ä–µ–Ω–¥–∞** (30 –º–∏–Ω)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –±—Ä–µ–Ω–¥–∞/–ø—Ä–æ–¥—É–∫—Ç–∞
- –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏
- LLM: DeepSeek Chat

#### 3. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤** (120 –º–∏–Ω)
- –í—ã—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ–º –∏ –≤–∏—Ä—É—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ç—É—â–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- –ü—Ä–æ–≥–Ω–æ–∑ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ç–µ–º
- LLM: DeepSeek Chat

#### 4. **–≠–∫—Å–ø—Ä–µ—Å—Å-–∞–Ω–∞–ª–∏–∑** (15 –º–∏–Ω)
- –ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä: —Ç–µ–º—ã, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –î–ª—è –µ–∂–µ—á–∞—Å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- LLM: DeepSeek Chat

#### 5. **–ü–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑** (240 –º–∏–Ω)
- –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –í–°–ï–• —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –¢–µ–∫—Å—Ç + —Ñ–æ—Ç–æ + –≤–∏–¥–µ–æ
- LLM: DeepSeek (—Ç–µ–∫—Å—Ç) + GPT-4 Vision (—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ)

### 3. üèóÔ∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   MULTI-LLM SYSTEM                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Source (VK/Telegram/etc)
   ‚îú‚îÄ bot_scenario_id
   ‚îî‚îÄ –ö–∞–∫–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ ‚Üí –ö–∞–∫–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π

BotScenario (–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
   ‚îú‚îÄ text_llm_provider_id    ‚Üí LLMProvider (DeepSeek)
   ‚îú‚îÄ image_llm_provider_id   ‚Üí LLMProvider (GPT-4V)
   ‚îú‚îÄ video_llm_provider_id   ‚Üí LLMProvider (GPT-4V)
   ‚îú‚îÄ ai_prompt (–Ω–∞ —Ä—É—Å—Å–∫–æ–º)
   ‚îú‚îÄ analysis_types
   ‚îî‚îÄ content_types

LLMProvider (AI –ú–æ–¥–µ–ª–∏)
   ‚îú‚îÄ name, provider_type
   ‚îú‚îÄ api_url, api_key_env
   ‚îú‚îÄ model_name, capabilities
   ‚îî‚îÄ config (temperature, max_tokens)

AIAnalyzerV2 (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)
   ‚îú‚îÄ ContentClassifier ‚Üí —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ —Ç–∏–ø–∞–º
   ‚îú‚îÄ PromptBuilder ‚Üí —Å—Ç—Ä–æ–∏—Ç –ø—Ä–æ–º–ø—Ç—ã
   ‚îú‚îÄ LLMClientFactory ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç
   ‚îî‚îÄ —Å–æ–∑–¥–∞—ë—Ç unified summary

AIAnalytics (–†–µ–∑—É–ª—å—Ç–∞—Ç—ã)
   ‚îî‚îÄ summary_data (JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏)
```

### 4. üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –§–∞–π–ª—ã

**Models:**
- `app/models/llm_provider.py` - –º–æ–¥–µ–ª—å LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- `app/models/managers/llm_provider_manager.py` - –º–µ–Ω–µ–¥–∂–µ—Ä

**Services:**
- `app/services/ai/llm_client.py` - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- `app/services/ai/analyzer_v2.py` - –Ω–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
- `app/services/ai/content_classifier.py` - –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `app/services/ai/prompts.py` - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤

**API:**
- `app/api/v1/endpoints/llm_providers.py` - CRUD –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- `app/schemas/llm_provider.py` - Pydantic —Å—Ö–µ–º—ã

**Admin:**
- `app/admin/views.py` - –¥–æ–±–∞–≤–ª–µ–Ω LLMProviderAdmin
- –î–µ–π—Å—Ç–≤–∏—è: test_connection, toggle_active

**Database:**
- `migrations/versions/20251014_000000_add_llm_providers.py`
- `scripts/seed_data.py` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î

**Documentation:**
- `ARCHITECTURE_ANALYSIS.md` - –∞–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- `docs/MULTI_LLM_SYSTEM.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 5. üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- –†–∞–∑–Ω—ã–µ LLM –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –û–¥–∏–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –º–Ω–æ–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –õ–µ–≥–∫–∞—è —Å–º–µ–Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

‚úÖ **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**
- –¢–µ–∫—Å—Ç ‚Üí DeepSeek
- –§–æ—Ç–æ ‚Üí GPT-4 Vision
- –í–∏–¥–µ–æ ‚Üí GPT-4 Vision
- –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π summary

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- API –∫–ª—é—á–∏ –≤ environment variables
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É–ø–µ—Ä—é–∑–µ—Ä–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## üöÄ –ß—Ç–æ –ù—É–∂–Ω–æ –°–¥–µ–ª–∞—Ç—å –î–∞–ª—å—à–µ

### 1. –î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏ –≤ `.env`

```bash
# DeepSeek (—É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω)
DEEPSEEK_API_KEY=your_deepseek_key_here

# OpenAI (–¥–ª—è GPT-4 Vision)
OPENAI_API_KEY=your_openai_key_here

# Anthropic (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
ANTHROPIC_API_KEY=your_anthropic_key_here
```

### 2. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

–ó–∞–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:
```
http://localhost:8000/admin/llmprovider/list
```

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.env`
2. –ù–∞–∂–º–∏—Ç–µ "Test Connection" (–ø—Ä–æ–≤–µ—Ä–∏—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)
3. –ï—Å–ª–∏ —Ç–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω ‚Üí –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä

### 3. –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (Sources)

–ó–∞–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:
```
http://localhost:8000/admin/source/list
```

–°–æ–∑–¥–∞–π—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:
1. **–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É** (VK, Telegram, Instagram –∏ —Ç.–¥.)
2. **–£–∫–∞–∂–∏—Ç–µ ID –≥—Ä—É–ø–ø—ã/–∫–∞–Ω–∞–ª–∞**
3. **–ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫ —Å—Ü–µ–Ω–∞—Ä–∏—é** (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ 5 –≥–æ—Ç–æ–≤—ã—Ö)
4. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
python cli/commands/collect.py

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
python cli/commands/collect.py --source-id 1
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–æ–±–µ—Ä—ë—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
2. –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ —Ç–∏–ø–∞–º (—Ç–µ–∫—Å—Ç/—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ)
3. –í—ã–±–µ—Ä–µ—Ç –Ω—É–∂–Ω—ã–µ LLM –∏–∑ —Å—Ü–µ–Ω–∞—Ä–∏—è
4. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π —Ç–∏–ø
5. –°–æ–∑–¥–∞—Å—Ç unified summary –Ω–∞ —Ä—É—Å—Å–∫–æ–º
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç –≤ AIAnalytics

## üìä –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ IT-—Å–æ–æ–±—â–µ—Å—Ç–≤–∞ VK

```python
# 1. –°–æ–∑–¥–∞—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫
source = Source(
    name="Habr VK Group",
    platform_id=1,  # VK
    external_id="habr",
    bot_scenario_id=1  # "–ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–æ–≤"
)

# 2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –°–æ–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç—ã –∫–∞–∂–¥—ã–µ 60 –º–∏–Ω—É—Ç
# - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å DeepSeek
# - –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
# - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ AIAnalytics
```

### –ü—Ä–∏–º–µ—Ä 2: –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –±—Ä–µ–Ω–¥–∞

```python
# 1. –°–æ–∑–¥–∞—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ —Å –º—É–ª—å—Ç–∏–º–µ–¥–∏–∞
source = Source(
    name="Brand Instagram",
    platform_id=3,  # Instagram
    external_id="brand_official",
    bot_scenario_id=5  # "–ü–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑"
)

# 2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –°–æ–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç—ã + —Ñ–æ—Ç–æ + –≤–∏–¥–µ–æ –∫–∞–∂–¥—ã–µ 240 –º–∏–Ω—É—Ç
# - –¢–µ–∫—Å—Ç ‚Üí DeepSeek (–±—ã—Å—Ç—Ä–æ –∏ –¥—ë—à–µ–≤–æ)
# - –§–æ—Ç–æ/–í–∏–¥–µ–æ ‚Üí GPT-4 Vision (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ)
# - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –æ–¥–∏–Ω –æ—Ç—á—ë—Ç
```

### –ü—Ä–∏–º–µ—Ä 3: –≠–∫—Å–ø—Ä–µ—Å—Å-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π

```python
# 1. –°–æ–∑–¥–∞—ë–º –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
source = Source(
    name="Tech News TG",
    platform_id=2,  # Telegram
    external_id="technews_channel",
    bot_scenario_id=4  # "–≠–∫—Å–ø—Ä–µ—Å—Å-–∞–Ω–∞–ª–∏–∑"
)

# 2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
# - –ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ –≥–ª–∞–≤–Ω—ã—Ö —Ç–µ–º
# - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ LLM
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ì–∏–±–∫–æ—Å—Ç—å
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ LLM –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- ‚úÖ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å LLM –Ω–µ –º–µ–Ω—è—è –∫–æ–¥
- ‚úÖ –û–¥–∏–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Üí –º–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 2. –≠–∫–æ–Ω–æ–º–∏—á–Ω–æ—Å—Ç—å
- ‚úÖ –î–µ—à—ë–≤—ã–π DeepSeek –¥–ª—è —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –î–æ—Ä–æ–≥–æ–π GPT-4V —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –í—ã–±–∏—Ä–∞–µ—à—å —Å–∞–º –∫–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 3. –ö–∞—á–µ—Å—Ç–≤–æ
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- ‚úÖ –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (—Ç–µ–∫—Å—Ç + —Ñ–æ—Ç–æ + –≤–∏–¥–µ–æ)
- ‚úÖ Unified summary –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å—ë

### 4. –£–¥–æ–±—Å—Ç–≤–æ
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- ‚úÖ –ì–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ –∫–æ—Ä–æ–±–∫–∏

### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ API –∫–ª—é—á–∏ –≤ environment
- ‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìà –ß—Ç–æ –ú–æ–∂–Ω–æ –£–ª—É—á—à–∏—Ç—å –≤ –ë—É–¥—É—â–µ–º

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ LLM** - —É–º–µ–Ω—å—à–∏—Ç –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
2. **Rate limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ API
3. **Cost tracking** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ LLM
4. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞
5. **Streaming responses** - –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
6. **Batch processing** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Å—Ç–æ–≤ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º
7. **Fallback providers** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π LLM –ø—Ä–∏ –æ—à–∏–±–∫–µ

## üéì –ü–æ–ª–µ–∑–Ω—ã–µ –°—Å—ã–ª–∫–∏

**–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:**
- LLM –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã: http://localhost:8000/admin/llmprovider/list
- –°—Ü–µ–Ω–∞—Ä–∏–∏: http://localhost:8000/admin/botscenario/list
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏: http://localhost:8000/admin/source/list
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: http://localhost:8000/admin/aianalytics/list

**API Endpoints:**
- `GET /api/v1/llm/llm-providers/` - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- `POST /api/v1/llm/llm-providers/` - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- `GET /api/v1/llm/llm-providers/{id}` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- `PUT /api/v1/llm/llm-providers/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- `DELETE /api/v1/llm/llm-providers/{id}` - —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `docs/MULTI_LLM_SYSTEM.md` - –ø–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `ARCHITECTURE_ANALYSIS.md` - –∞–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! 

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:**
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏ –≤ `.env`
2. ‚úÖ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –Ω—É–∂–Ω—ã–µ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä

**–£ –≤–∞—Å –µ—Å—Ç—å:**
- 5 LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
- 5 –≥–æ—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–ø—Ä–æ–º–ø—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º)
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- API (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è)

–£–¥–∞—á–∏ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏! üöÄ
