<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>–ü—Ä–æ–º–ø—Ç—ã —Å—Ü–µ–Ω–∞—Ä–∏—è: {{ scenario.name }}</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
	.prompt-container {
		margin: 20px 0;
	}
	
	.prompt-card {
		background: white;
		border-radius: 8px;
		padding: 20px;
		margin-bottom: 20px;
		box-shadow: 0 2px 4px rgba(0,0,0,0.1);
	}
	
	.prompt-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 15px;
		padding-bottom: 10px;
		border-bottom: 2px solid #f0f0f0;
	}
	
	.prompt-title {
		font-size: 18px;
		font-weight: 600;
		color: #333;
	}
	
	.badge {
		padding: 4px 12px;
		border-radius: 12px;
		font-size: 12px;
		font-weight: 500;
	}
	
	.badge-custom {
		background: #4CAF50;
		color: white;
	}
	
	.badge-default {
		background: #9E9E9E;
		color: white;
	}
	
	.prompt-box {
		background: #f8f9fa;
		border: 1px solid #dee2e6;
		border-radius: 4px;
		padding: 15px;
		margin: 10px 0;
		font-family: 'Courier New', monospace;
		font-size: 13px;
		line-height: 1.6;
		white-space: pre-wrap;
		word-wrap: break-word;
		max-height: 400px;
		overflow-y: auto;
	}
	
	.prompt-section {
		margin: 15px 0;
	}
	
	.section-title {
		font-weight: 600;
		color: #666;
		margin-bottom: 8px;
		font-size: 14px;
		text-transform: uppercase;
		letter-spacing: 0.5px;
	}
	
	.copy-btn {
		padding: 6px 12px;
		background: #007bff;
		color: white;
		border: none;
		border-radius: 4px;
		cursor: pointer;
		font-size: 13px;
		transition: background 0.2s;
	}
	
	.copy-btn:hover {
		background: #0056b3;
	}
	
	.copy-btn.copied {
		background: #28a745;
	}
	
	.nav-tabs {
		border-bottom: 2px solid #dee2e6;
		margin-bottom: 20px;
	}
	
	.nav-tabs .nav-link {
		border: none;
		padding: 10px 20px;
		color: #666;
		font-weight: 500;
		border-bottom: 2px solid transparent;
		margin-bottom: -2px;
	}
	
	.nav-tabs .nav-link:hover {
		border-bottom-color: #007bff;
		color: #007bff;
	}
	
	.nav-tabs .nav-link.active {
		color: #007bff;
		border-bottom-color: #007bff;
		background: none;
	}
	
	.tab-content {
		padding: 20px 0;
	}
	
	.back-btn {
		margin-bottom: 20px;
	}
	
	.info-box {
		background: #e7f3ff;
		border-left: 4px solid #007bff;
		padding: 12px;
		margin: 15px 0;
		border-radius: 4px;
	}
	
	.info-box p {
		margin: 0;
		color: #004085;
		font-size: 14px;
	}
	
	body {
		background: #f5f5f5;
		padding: 20px;
	}
	
	.container {
		max-width: 1200px;
		margin: 0 auto;
	}
</style>
</head>
<body>
<div class="container">
<div class="prompt-container">
	<div class="back-btn">
		<a href="{{ request.url_for('admin:details', identity='bot-scenarios', pk=scenario.id) }}" class="btn btn-secondary">
			<i class="fa fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ —Å—Ü–µ–Ω–∞—Ä–∏—é
		</a>
	</div>
	
	<h2>–ü—Ä–æ–º–ø—Ç—ã —Å—Ü–µ–Ω–∞—Ä–∏—è: {{ scenario.name }}</h2>
	
	<div class="info-box">
		<p>
			<strong>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ó–¥–µ—Å—å –ø–æ–∫–∞–∑–∞–Ω—ã –ø–æ–ª–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ LLM API. 
			–ï—Å–ª–∏ —É —Å—Ü–µ–Ω–∞—Ä–∏—è –µ—Å—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç, –æ–Ω –ø–æ–∫–∞–∑–∞–Ω –æ—Ç–¥–µ–ª—å–Ω–æ. JSON –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
		</p>
	</div>
	
	<ul class="nav nav-tabs" role="tablist">
		<li class="nav-item">
			<a class="nav-link active" data-toggle="tab" href="#text-tab" role="tab">üìù Text</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" data-toggle="tab" href="#image-tab" role="tab">üñºÔ∏è Image</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" data-toggle="tab" href="#video-tab" role="tab">üé• Video</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" data-toggle="tab" href="#audio-tab" role="tab">üéµ Audio</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" data-toggle="tab" href="#unified-tab" role="tab">üîó Unified</a>
		</li>
	</ul>
	
	<div class="tab-content">
		<!-- Text Prompt -->
		<div class="tab-pane fade show active" id="text-tab" role="tabpanel">
			<div class="prompt-card">
				<div class="prompt-header">
					<span class="prompt-title">–ü—Ä–æ–º–ø—Ç –¥–ª—è —Ç–µ–∫—Å—Ç–∞</span>
					<span class="badge {% if prompts.text.has_custom %}badge-custom{% else %}badge-default{% endif %}">
						{% if prompts.text.has_custom %}–ö–∞—Å—Ç–æ–º–Ω—ã–π{% else %}–î–µ—Ñ–æ–ª—Ç–Ω—ã–π{% endif %}
					</span>
				</div>
				
				{% if prompts.text.has_custom %}
				<div class="prompt-section">
					<div class="section-title">–í–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç:</div>
					<div class="prompt-box">{{ prompts.text.custom }}</div>
				</div>
				{% endif %}
				
				<div class="prompt-section">
					<div class="alert alert-info" style="font-size: 14px; padding: 10px;">
						<i class="fa fa-info-circle"></i> 
						<strong>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö</strong> (–Ω–∞–ø—Ä–∏–º–µ—Ä <code>{platform}</code>, <code>{text}</code>) 
						–∑–∞–º–µ–Ω—è—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞–Ω–∞–ª–∏–∑–∞. 
						–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –≤–∏–¥ –ø—Ä–æ–º–ø—Ç–∞.
					</div>
					<div class="section-title">
						–ü–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ LLM):
						<button class="copy-btn" onclick="copyPrompt('text-full')">
							<i class="fa fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
						</button>
					</div>
					<div class="prompt-box" id="text-full">{{ prompts.text.full }}</div>
				</div>
			</div>
		</div>
		
		<!-- Image Prompt -->
		<div class="tab-pane fade" id="image-tab" role="tabpanel">
			<div class="prompt-card">
				<div class="prompt-header">
					<span class="prompt-title">–ü—Ä–æ–º–ø—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</span>
					<span class="badge {% if prompts.image.has_custom %}badge-custom{% else %}badge-default{% endif %}">
						{% if prompts.image.has_custom %}–ö–∞—Å—Ç–æ–º–Ω—ã–π{% else %}–î–µ—Ñ–æ–ª—Ç–Ω—ã–π{% endif %}
					</span>
				</div>
				
				{% if prompts.image.has_custom %}
				<div class="prompt-section">
					<div class="section-title">–í–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç:</div>
					<div class="prompt-box">{{ prompts.image.custom }}</div>
				</div>
				{% endif %}
				
				<div class="prompt-section">
					<div class="section-title">
						–ü–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ LLM):
						<button class="copy-btn" onclick="copyPrompt('image-full')">
							<i class="fa fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
						</button>
					</div>
					<div class="prompt-box" id="image-full">{{ prompts.image.full }}</div>
				</div>
			</div>
		</div>
		
		<!-- Video Prompt -->
		<div class="tab-pane fade" id="video-tab" role="tabpanel">
			<div class="prompt-card">
				<div class="prompt-header">
					<span class="prompt-title">–ü—Ä–æ–º–ø—Ç –¥–ª—è –≤–∏–¥–µ–æ</span>
					<span class="badge {% if prompts.video.has_custom %}badge-custom{% else %}badge-default{% endif %}">
						{% if prompts.video.has_custom %}–ö–∞—Å—Ç–æ–º–Ω—ã–π{% else %}–î–µ—Ñ–æ–ª—Ç–Ω—ã–π{% endif %}
					</span>
				</div>
				
				{% if prompts.video.has_custom %}
				<div class="prompt-section">
					<div class="section-title">–í–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç:</div>
					<div class="prompt-box">{{ prompts.video.custom }}</div>
				</div>
				{% endif %}
				
				<div class="prompt-section">
					<div class="section-title">
						–ü–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ LLM):
						<button class="copy-btn" onclick="copyPrompt('video-full')">
							<i class="fa fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
						</button>
					</div>
					<div class="prompt-box" id="video-full">{{ prompts.video.full }}</div>
				</div>
			</div>
		</div>
		
		<!-- Audio Prompt -->
		<div class="tab-pane fade" id="audio-tab" role="tabpanel">
			<div class="prompt-card">
				<div class="prompt-header">
					<span class="prompt-title">–ü—Ä–æ–º–ø—Ç –¥–ª—è –∞—É–¥–∏–æ</span>
					<span class="badge {% if prompts.audio.has_custom %}badge-custom{% else %}badge-default{% endif %}">
						{% if prompts.audio.has_custom %}–ö–∞—Å—Ç–æ–º–Ω—ã–π{% else %}–î–µ—Ñ–æ–ª—Ç–Ω—ã–π{% endif %}
					</span>
				</div>
				
				{% if prompts.audio.has_custom %}
				<div class="prompt-section">
					<div class="section-title">–í–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç:</div>
					<div class="prompt-box">{{ prompts.audio.custom }}</div>
				</div>
				{% endif %}
				
				<div class="prompt-section">
					<div class="section-title">
						–ü–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ LLM):
						<button class="copy-btn" onclick="copyPrompt('audio-full')">
							<i class="fa fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
						</button>
					</div>
					<div class="prompt-box" id="audio-full">{{ prompts.audio.full }}</div>
				</div>
			</div>
		</div>
		
		<!-- Unified Summary Prompt -->
		<div class="tab-pane fade" id="unified-tab" role="tabpanel">
			<div class="prompt-card">
				<div class="prompt-header">
					<span class="prompt-title">–ü—Ä–æ–º–ø—Ç –¥–ª—è –æ–±—â–µ–≥–æ —Ä–µ–∑—é–º–µ</span>
					<span class="badge {% if prompts.unified.has_custom %}badge-custom{% else %}badge-default{% endif %}">
						{% if prompts.unified.has_custom %}–ö–∞—Å—Ç–æ–º–Ω—ã–π{% else %}–î–µ—Ñ–æ–ª—Ç–Ω—ã–π{% endif %}
					</span>
				</div>
				
				{% if prompts.unified.has_custom %}
				<div class="prompt-section">
					<div class="section-title">–í–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç:</div>
					<div class="prompt-box">{{ prompts.unified.custom }}</div>
				</div>
				{% endif %}
				
				<div class="prompt-section">
					<div class="section-title">
						–ü–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ LLM):
						<button class="copy-btn" onclick="copyPrompt('unified-full')">
							<i class="fa fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
						</button>
					</div>
					<div class="prompt-box" id="unified-full">{{ prompts.unified.full }}</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
</div>

<script>
	function copyPrompt(elementId) {
		const element = document.getElementById(elementId);
		const text = element.textContent;
		
		navigator.clipboard.writeText(text).then(() => {
			// Show feedback
			const button = event.target.closest('.copy-btn');
			const originalHTML = button.innerHTML;
			button.innerHTML = '<i class="fa fa-check"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
			button.classList.add('copied');
			
			setTimeout(() => {
				button.innerHTML = originalHTML;
				button.classList.remove('copied');
			}, 2000);
		}, () => {
			alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
		});
	}
</script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
